import smartpy as sp
class ZKRollupContract(sp.Contract):
    def __init__(self):
        self.init(
            last_rollup_timestamp = sp.timestamp_from_utc_now(),
            accounts =  sp.big_map(
                l = {
                    0 : sp.record(
                        pub_key = sp.key("edpkurPsQ8eUApnLUJ9ZPDvu98E8VNj4KtJa1aZr16Cr5ow5VHKnz4"),
                        mutez_balance = sp.mutez(3000000),
                        nonce = sp.nat(2),
                    ), 
                    1 : sp.record(
                        pub_key = sp.key("edpkvGfYw3LyB1UcCahKQk4rF2tvbMUk8GFiTuMjL75uGXrpvKXhjn"),
                        mutez_balance = sp.mutez(5000000),
                        nonce = sp.nat(1),
                    ),
                    2 : sp.record(
                        pub_key = sp.key("edpktt6t2ENhxiQqun6bXPPWC6tFVvNPTDRh1gEPGX4BgDgbDnmGzP"),
                        mutez_balance = sp.mutez(0),
                        nonce = sp.nat(1),
                    ), 
                    3 : sp.record(
                        pub_key = sp.key("edpkvS6TDSWcqqj3EJi3NRrCMyN7oNw1B3Hp37R19tMThqM8YNhAuS"),
                        mutez_balance = sp.mutez(0),
                        nonce = sp.nat(1),
                    ), 
                },
                tkey = sp.TNat,
                tvalue = sp.TRecord(
                    pub_key = sp.TKey,
                    mutez_balance = sp.TMutez,
                    nonce = sp.TNat,
                )
            ),
            mr_pub_key = {
                0: sp.bls12_381_fr("0xC145EF0800000000000000000000000000000000000000000000000000000000"),
                1: sp.bls12_381_fr("0x2ACC5FF700000000000000000000000000000000000000000000000000000000"),
                2: sp.bls12_381_fr("0x1278102D00000000000000000000000000000000000000000000000000000000"),
                3: sp.bls12_381_fr("0x7A0239BB00000000000000000000000000000000000000000000000000000000"),
                4: sp.bls12_381_fr("0x004A2D3F00000000000000000000000000000000000000000000000000000000"),
                5: sp.bls12_381_fr("0x050D53FF00000000000000000000000000000000000000000000000000000000"),
                6: sp.bls12_381_fr("0x0473569500000000000000000000000000000000000000000000000000000000"),
                7: sp.bls12_381_fr("0x4D05A21800000000000000000000000000000000000000000000000000000000"),
                },
            mr_balance_nonce = {
                0: sp.bls12_381_fr("0x45014A1D00000000000000000000000000000000000000000000000000000000"),
                1: sp.bls12_381_fr("0xFD955A1C00000000000000000000000000000000000000000000000000000000"),
                2: sp.bls12_381_fr("0xCED6AF1100000000000000000000000000000000000000000000000000000000"),
                3: sp.bls12_381_fr("0xED8A6C6500000000000000000000000000000000000000000000000000000000"),
                4: sp.bls12_381_fr("0x473D4B5700000000000000000000000000000000000000000000000000000000"),
                5: sp.bls12_381_fr("0xCBE9AA6A00000000000000000000000000000000000000000000000000000000"),
                6: sp.bls12_381_fr("0x4F91A9A400000000000000000000000000000000000000000000000000000000"),
                7: sp.bls12_381_fr("0x6136DB2700000000000000000000000000000000000000000000000000000000"),
            },
        )

    """
    The entry point of the contract for a rollup execution.

    It receives a rollup proof from the client and checks if it is valid.
    - The output values are in params with the name received_values.
    - The 3 proofs are in params with the name received_proof_1, received_proof_2 and received_proof_3.
    - The amount of accounts stored is in params with the name of NUMBER_OF_ACCOUNTS. It is necessary
        as the contract cannot iterate over a Big Map but an external service using an rpc can. And
        it will be used in future to support a variable number of accounts.
    """
    @sp.entry_point
    def receive_rollup_proof(self, params):

        # Check if the current mr_pub_key is the same as the one received in the proof
        sp.for i in sp.range(0, 8):
            sp.verify(sp.to_int(self.data.mr_pub_key[i]) == sp.to_int(params.received_values[i]))
        
        # Check if the current mr_balance_nonce is the same as the one received in the proof
        sp.for i in sp.range(8, 16):
            sp.verify(sp.to_int(self.data.mr_balance_nonce.get(i - 8)) == sp.to_int(params.received_values.get(i)))

        # TODO: put an if on the number of accounts passed as parameter and call the correct function
        self.rollup_with_4_accounts(params)

    """
    The entry point of the contract for a registration of a new user.

    It receives a registration proof from the client and checks if it is valid.
    - The 3 proofs are in params with the name received_proof_1, received_proof_2 and received_proof_3.
    - The amount of accounts stored is in params with the name of NUMBER_OF_ACCOUNTS.
    - The position of the new account is in params with the name of NEW_ACCOUNT_POSITION.
    - The new account's public key is in params with the name of NEW_ACCOUNT_PUB_KEY.
    """
    @sp.entry_point
    def receive_registration_proof(self, params):
        # Check if the current mr_pub_key is the same as the one received in the proof
        sp.for i in sp.range(0, 8):
            sp.verify(sp.to_int(self.data.mr_pub_key[i]) == sp.to_int(params.received_values[i]))
        
        # Check if the current mr_balance_nonce is the same as the one received in the proof
        sp.for i in sp.range(16, 24):
            sp.verify(sp.to_int(self.data.mr_balance_nonce.get(i-8)) == sp.to_int(params.received_values.get(i)))
        
        # TODO: put an if on the number of accounts passed as parameter and call the correct function
        self.register_new_with_4_accounts(params)



                
    def rollup_with_4_accounts(self, params):
        # The verify function is called.
        self.verify_rollup_execution_4_accounts(params.received_values, params.received_proof_1, params.received_proof_2, params.received_proof_3)

        # TODO: change if the proof index changes
        pos_first_balance_in_received_values = sp.local('pos_first_balance_in_received_values', sp.int(114))
        pos_first_nonce_in_received_values = sp.local('pos_first_nonce_in_received_values', sp.int(118))
        sp.for i in sp.range(0, sp.as_nat(4)):
            # Conversions explanation:
            # - sp.utils.nat_to_mutez(sp.as_nat(sp.to_int( is because we're receiving types of sp.TBls12_381_fr and we need to convert them to mutez
            # - sp.to_int(i) is because the sp.range wanted a nat but to access a map we need an int, idk why since it's a big map declared with tkey = sp.TNat
            self.data.accounts[i].mutez_balance = sp.utils.nat_to_mutez(sp.as_nat(sp.to_int(params.received_values[ sp.to_int(i) + pos_first_balance_in_received_values.value])))
            self.data.accounts[i].nonce = sp.as_nat(sp.to_int(params.received_values[ sp.to_int(i) + pos_first_nonce_in_received_values.value]))
            self.data.last_rollup_timestamp = sp.timestamp_from_utc_now()
    

    def register_new_with_4_accounts(self, params):
        self.verify_register_execution_4_accounts(params.received_values, params.received_proof_1, params.received_proof_2, params.received_proof_3)
        self.data.accounts[params.new_account_position].pub_key = params.new_account_pub_key
        self.data.accounts[params.new_account_position].mutez_balance = sp.utils.nat_to_mutez(0)
        self.data.accounts[params.new_account_position].nonce = 1

    """
    The verification function that checks if the proof is valid.

    It stores in the last_rollup_verified the outcome of the verification and updates accordingly last_rollup_timestamp
    """
    def verify_rollup_execution_4_accounts(self, input, proof_a, proof_b, proof_c):
        sp.set_type(input, sp.TBigMap(sp.TInt, sp.TBls12_381_fr)) 
        
        vk_h = sp.bls12_381_g2("0x0530773d7599c42145fa034c965d9de79884ea0a992dd35ede5752161cb4e360b77bf36b4013caeca1819de72e78bde305504ba10e69e5ccaf82d419cbc6c93f57ef2f253abb55f9377be1970d257b2c7460b8fe23210b52af84d39c13c038b310ebbd917e0eb365bd317c9c72becb45a3c465f348c72f960d3db574f9cd10d6a691a323cd242c0e170a8e8c77c13ed51228408810bda8699045a0dc816228a65f0d5e8d81c0a9aa56a006919885f1e6a15747073e4f3701a27921d5793b1307")
        vk_g_alpha = sp.bls12_381_g1("0x1662d72b32ecbb79f93623a67676e1b374c03c612daf6a2bfbd9d52f95b4695d21c60db889172354fbca52e0e3f49e37164f68d9ecb271e93c3b363b9a3b07128fa8f529ba9a77ccc00c660bb3c46d32e97e77483b44202b74a18fc3567abb7d")
        vk_h_beta = sp.bls12_381_g2("0x1573e0c8416cb300a26476c6ebf650c44124eb57197e6d0ae8bddd492651723a217b6a79547fd999cdcb1c5b37f8b4d1161a28f5dbb26ac398358cfb054ee2ca2b743e3dba02dd69719f7d69badbc6c24b1397c8979b5fa938c433ead105369f02096d222472604dfe7711e5099cf411d9c903cb1363d210363b3ba3e40a09a6b680efbf268967c817bf36bfcebc716b00d1f24c7d2608e279826aa072d4bdc4458a53b7f4e3679718d6d182704170580cdae455a67eb82e0c898db38b228d6d")
        vk_g_gamma = sp.bls12_381_g1("0x16fc305a11a2064ec34ff1ca52b503396f45af2660e8205d86eb6152d362f0d131c685dfcb9e3ec51e8d10063c092ef80439c56cf91ffc1b32f7eea48ee7b801f3f170bd74953ac5d8c414b1f89715accfc9f92c1cae030ba823c637e2bba77f")
        vk_h_gamma = sp.bls12_381_g2("0x0530773d7599c42145fa034c965d9de79884ea0a992dd35ede5752161cb4e360b77bf36b4013caeca1819de72e78bde305504ba10e69e5ccaf82d419cbc6c93f57ef2f253abb55f9377be1970d257b2c7460b8fe23210b52af84d39c13c038b310ebbd917e0eb365bd317c9c72becb45a3c465f348c72f960d3db574f9cd10d6a691a323cd242c0e170a8e8c77c13ed51228408810bda8699045a0dc816228a65f0d5e8d81c0a9aa56a006919885f1e6a15747073e4f3701a27921d5793b1307")
        vk_query_not_local = {
			0: sp.bls12_381_g1("0x000b94191be05a692448df9bdd0271fe2c78dc959b6960179f3d3c0a13ee38041887f1ec7d04f806fed64a09bf12d2eb0eb9e63f157c4d157ff01e6a78ee0d83543053017469005544d3ab031f528f5275b370e70b749bbaa959d09a1fe31527"),
			1: sp.bls12_381_g1("0x03234044e1ae903cdfd4c828de0ff9e5af5a6e34ec8eeff4d38230d109cd83e20219674385700f90fef9a5f63772df15071ffc79ecff801d0445d9502ff799f14e65b4856fb980ef3cf56d16b9eea788d452023c3b6d2436310a2ee4248107ae"),
			2: sp.bls12_381_g1("0x103a683f6db1b508ded684a0ba4d3984e5ff8e59ee5af8e7f8c778ae17de3a7d67954ea853143cf539595faa9ba8571710691d8b5d4edf5c3cebc81926651794233916bb769b5448f8d7d5fe5572229a34c6c7562a1a7eaafb418cb977764e11"),
			3: sp.bls12_381_g1("0x133281061099d0498ed306d16872777ae213681135f0cfdd1bf924c344afc1d5a9d87fc641dcd0f3586cf88904ea419d0ff8e4ea19c259fad94bf028603a6e1989fd81e12c3535087a8f7a2a767507ada513b26c090f6e8cd06afb90058a0596"),
			4: sp.bls12_381_g1("0x08e66dd1c88bc48ac2cf45ade27ddf9917a86e37007ea4f875db22ac88f61f916b0127de859a18abe50f535ef44cd40709c6b53d410f7285ba07933ae0f427cad77b78517b8da9d38ee26fd61e72c1a122425fcf6bcccd31446fbb6f1d4eee8a"),
			5: sp.bls12_381_g1("0x100c7b3c97e26ac3d6586e998b13fb52e3e3d08ad88d4874c0c2ea64eea5cebd520eca409969cd7156f98a1a1fa41e3f037ac82907e46f163b542035d10827b7d4def64a120672d41a7ce0c0eec32f78899020a8563e958a575441544c43cf37"),
			6: sp.bls12_381_g1("0x0347ed04f5f283b09da30365560615bfb626aeb0c2e483cb952c972d6b07c8fc62541e7ff25b4fb311b0d5d47940956f0ff8ae4246bad7dcfecff919a89d13cb66cf355212d2fb583b2516eac8836616b16c2a1d814ad42740c338b7be46bfd1"),
			7: sp.bls12_381_g1("0x0e98f2614a4272b7f6f64218e2839b572a8e3db85d3a5e27dd41cdb9c0bd7c1bfd0f1f502093c120b6c15f9bf182b40018966335fba2d05a0ad8325bd48e30ae87fa896002debf7492fb12be6be840f358663a4876f25d630a4cfcb46950c7b2"),
			8: sp.bls12_381_g1("0x0ac46fe0d03a81079cba4047e026c9fc20f46c1d923da6d820f52fd0314bd8b6e5117f12a3e9cf67ffbcb39195c6c54b158facddb889c6734295cebc1979ac77556e5ad18d739eadd9347362d1084f08825cebac09c9e533ab3d32d3a74f06a5"),
			9: sp.bls12_381_g1("0x09a92c05a94a0347e4a872aac305a3518a69c87b9f5ef95526b79c5942c402ef70aac50ac0be77d1bc167923d8d26f2c0a25552f4b489336a243350050b0d55a51b81485e3af0a5bd095c6660fd8829c1eddb3169b69b7e9493fbf16d9a9e4e2"),
			10: sp.bls12_381_g1("0x0cd392737f668c33ad744b11ca203ad7ab5a53dc2345896cd4108c37c22b79072a79b2f7c0ca77341a87cf770bb4d80a00fb5e219e8a9bfc9c65e7a55639d007165a31bc25700fac02ca5ce8b71492dfb4fe5f5d26b4cf1e0b2ceb7a3ba2d2ff"),
			11: sp.bls12_381_g1("0x0a44c1710c32cd57be8517f4c6fb42c581b7f520a246e937c556f43d9677d490fc1b14211ac952412100e6b7a8a7155602c6f21d898b34360a4fbe38e3e61f3e2333d0359396e3d95ef7fcbe1c24de4cd2b79affa820a8d83084f9b0e724d8f1"),
			12: sp.bls12_381_g1("0x1577c6e8eec70399e3cbbf04a0a5d9cef7c463abe00844e2302d538c8f71cd7f52c4bb6fb525a6054eccdc1dbee4a57e00bde3695a8ab0c00a0a1380c0d4ae906e816e985f519a637e3ec10ad070ce46dbaf4d9de2d4268ffdd14661ec78ca4f"),
			13: sp.bls12_381_g1("0x1191edebb5dcbec7cb2b696526868d938d82e0e867e968cd7976f4f6eede981cdba726448be3c233b06759de412242cb17e43187e25635e1adf8f5e7dfd0759875cab24ab064d186fd1d0a9412708c0ef13fd0656e1a62983ef7a14d06568f9b"),
			14: sp.bls12_381_g1("0x071d8745c30e8d4f24ee33ef28b306e12fd0b8e467fe95c77d9ac42fa7551a2687228cb760ad237868faccb4d2b17c9d186876d367c7f4928c52ca8b1dbfe1239fa90e5ae3bc8e3eda9545ff60cc9da242f454c8505be9fcb254b3e5261ce3bb"),
			15: sp.bls12_381_g1("0x0946bb46ed72671bfe775f5324719a5c79099947e66741fe2f01ccd9544a258dfe802a5233d92a565809ed57cfcda250049581a932298e23d98a7730b9f8a5b7dd5b344ae44a17fd2e142ac65bf4747759fe78b020e2daf64acb83c3ad1ecc5d"),
			16: sp.bls12_381_g1("0x00b4e8954cb3adb4ec5c3ab3cb1e8c8ad0ca5f397325ec88e89d753c24b22b2a668b5ae8bec459ec741658370f70e8fd0e32e303b179a3a80bcc59652602538a426d24e595e979671553c4976094c8e740d6a546d8dcdc9760055d855733b2ae"),
			17: sp.bls12_381_g1("0x0067487f791130926d9d3fcc6936b09495cf4d0d58088f5929f40bd9821b3ac25ab74135c18ea3e1e3f0e64fa13e9004148bcebce00b105ca7ab1575e06dd34aa4b1f25e5b266534d1fe4aa11775d87897517404a83505d8e71ae99394b5ead4"),
			18: sp.bls12_381_g1("0x081f72c65818dc710f1f28c7e614827821f2563dedf2b3be348eb962fbe8896aa7e3f0d591079ef41082bb4a51910d250a1649310efb975f72f668c457d196a0a0b23fb4b60430725b1ed3f46a62584fb3ce956a09aecfe0dd907ee247918e4c"),
			19: sp.bls12_381_g1("0x10c23edffc9de26a80b8ba6df6e76be97c1094ad20a43ff420a74a8f74fd19c14b64dc7426cfd23d6d89ad541207d15b10f84d9b13980b6bc9bd78e3b4b8dcb2132c919c66e3e869680817059606453480ca0e34618d4bbbe2b69bcb173778d9"),
			20: sp.bls12_381_g1("0x05b252e9b5e2666ced24c9bf02c022a202e54c2e6a22111e14a6854f3292771eebff392ce5516ad6bfc29c8d5c9f9f82169986f613383b1ccbcaa51fed1e51f2c9a0c49128a708dd2e450d272eb896e1e9154772d27c59eda3f23a9ad12e6c6c"),
			21: sp.bls12_381_g1("0x0701395c15cbccbde0bd38d010df5708911d342c9fa12658e7bc891eda36d249829c5c64e2631ccde598975166de5c8b041a3695d48b7c2c7257212550426e8797dc9d469f45067792c8e8c4bf714849c0e70904f90e6bceff295cb41e210909"),
			22: sp.bls12_381_g1("0x00774a7f7bda63484d479ffdb85bd0c131fccc19c9fe375b59de3ec3168a06fb12ed3ca8b453db7d645a56b529d92f13116d84ec0734cabcd3e51a78e5358cf068d8f9c5883a25b802ea841aeb6b7bc67c357a4f25d6c5d40b282f4cedaf85ad"),
			23: sp.bls12_381_g1("0x0fb6969a4287b3862950f1867695cedf0a2db726c04a30782fd79961b021d20059bbce7c6f7e93dc9477ee66db96ee9302a671b431a6b65e4f5d29ca199b3a70bd30a401f667aa80c85de0af1370e6683858ef65272de42f8366f949c432d0cc"),
			24: sp.bls12_381_g1("0x0dc511caee29c447ff1b23290b55065dbe0ea74e974edfec61e2fe3c775c434af73874a6ff91ad997ce9ac80e92b92d80cf5e3e7e5af3d0b8b537ce0d34d363facecf2d7ebab2789e2f4e75b811183670b396848423a45c5c817b130e5a261c0"),
			25: sp.bls12_381_g1("0x18832b3c814cd767a552de16f1a08d93ebc349de3a1faeb43036179d847b1646569a511fec9ee6d5ed9fc33a6ce085fd08f9f0f7260498d742e3c76a24297c77bfba928f0852572f0da486d3e9b64205e7baed18820de3c9ea397f9392f80b25"),
			26: sp.bls12_381_g1("0x0ed92df5c7660e72f3a6cb86b6858e5e1553760713dd1d70e60f7f09c6fa6484f5e917174d915b38492bd781c11ce74706b16e86bc101e4295b9672cb087915e53188f940abb4d10ee631bf11f2304af5ad65f657ebff290359e381dc17bcf02"),
			27: sp.bls12_381_g1("0x0fc1138a6d3455b461d3cb29971d093721a3c1892207480c61d01675611ca5f4e21c6389eae9f2a3f9ec2890c5b87faa0d34856a9b9937fe66d1ed20dffb98151aa3009eb18759c49c25a6475bdf655a1566d1983e5eddf82640bbbf9d8fbfd3"),
			28: sp.bls12_381_g1("0x17a3cecce847a34cbe467caef1bb125052873c0a0792ceb86ea2fcabd407ad991d9e16189d4d9d35338ed4c2abfd2abe0d5a8b3be949ce023a1b3382d0d54c3255152e9ecef452cd15f6ea2e1fcb6f12534d9585ffd56a4d5acedeee98abc4ba"),
			29: sp.bls12_381_g1("0x124268756c60a7b5088dc7dcefcec0febc1ebbcfe1272d467bcb58b00651892dacde44a28e6bcd32727230882ab2a2e4177487b36435916ee8b66d1b1e31a3456ed3f39040327606574e77b0d94790cbec1f2ab3969dc452b309a598bbdaea2f"),
			30: sp.bls12_381_g1("0x1026ff0df97f9a3b8505462e7996659628afcdd7c916af084bdedca1d5082bd02085ec06db6ac420d58bb155a0c75d8601aa300d6b5fc713858ff100eb9c0e7b9cb4fa47e3cc8d237159ff6736fec411905a815542896cde8f8e178883862e10"),
			31: sp.bls12_381_g1("0x102c2b673e3ebb8d9d3b12565250cce84f0a380e4cc7b8b6167a861b0a8a4ab57533e2a58234440b8f4d1954c2c1a7f70fb842e441b3ff019e3ac35078c1c12d60cec99d080453706aa867474bd77ba2776d82f0aa5069f65ad52048722931dd"),
			32: sp.bls12_381_g1("0x136132c08a385fac80515dca47eb1e0dac6153dcbdc1a38b27a8dd5252d37b78f1d72ad309d28cfc159396d2dcb480ee1437675b451703e49308cb21b27947b7907f550b20de39ef614be7a591652ea708324ef37f0cd1352e165a90c56af9cb"),
			33: sp.bls12_381_g1("0x13351c26bce38fd3f88e2bfa195ef6fb5a62927d78ff921ed24cc6de47fee4795c6971f72c612f03b75f45af74dbf02d09dc3217a05457fbe57783823a8be4d3432b669d4577c2c75f21c0cc0c36ed08dd97b827c329f0bdd4930e0ba82054ef"),
			34: sp.bls12_381_g1("0x16787aaf89f6a9f61d636eb992c16f3e384ebe77e28e38507066dd8ff06ffab8c4c17374dd0575267bf20bf253501c5d09c5a50e7c389cf7dd8bfaf2e2031899c4ddae06c995093145c974d7b6ae423183de2172d33578b8e28a1d990d53c4e2"),
			35: sp.bls12_381_g1("0x120cf20f9bf0ddea9f2aa351a629c00f08322a987cf7dc82fefc370151145b7c5d62ff71485b945c2f98423e5385eb190898f6f63461f53a2e360c397a061d0d4a829a82b91d5ec6adbed85734c4445d806a333894ab60ed29b71235bde235ef"),
			36: sp.bls12_381_g1("0x18af05353c33c4504268b054a4a8dabfccf66f3ff2a8d423b3d38978bf5bb853135d7323c239be17313db25b6f398a65114b5c953831339d6930d9c5bc4e29f6839e09941bc7446cdaf80b3d76f587a64b0249b685bb47c2a1486f8601ba32e8"),
			37: sp.bls12_381_g1("0x07809e320cc40e94e9efdb357e686d9f0ffd2441c926d534361bc1991561a1188babfec25144f978c1999514acc4e899018e8e697b732b061a9cd0e6cdc2c6af7cea34bd720133cec2e84573a444ec769d64afe750767f0d2a870a568d1bbbf6"),
			38: sp.bls12_381_g1("0x19f213183b326ac778e8395571b2d26b7f1da5a9c6e310004bfb993f78f16f75a3f7bbdaf9be96303a91d2a2a99a90ec0a11e3b3524a4158e53f7ff96e5a9f51790a6ce05280f9c162048a12be969119550b1a19ae005daf914423e7142cc755"),
			39: sp.bls12_381_g1("0x17af88303275eaecc502b21272999ad25f483a85d40fe70321bfc3c0ae89efbd5a9d728996d3f2eebcef495d688057740125d23e8432f894f1c8cf1eeaee862f52ec8f57b0f19dd8eb750a85df5de47f8fe200ab5e6639eb0b37fe91b427d841"),
			40: sp.bls12_381_g1("0x02b72621ab2da9ece7591d2f8422eb5ad2eca742e5b5541cb529f6fdc56aca2e0fca39c673d4f46b949908830538e6c903eaecf5a6496ae96713054f6d3a8e986b12e321173f94c79ac1521644c0348eeb5b8bcc763a6373163354821979b685"),
			41: sp.bls12_381_g1("0x0545d8b0d5362f935f14dfd525dd9e3623fe0e2001595ee08837f44b4c33a1e0cc1d8dc2834ab518bb1f3e989b5f82841573bc40d67882e291e7439b994c594b21238a7b4023fe492585a20c22986d0bb6545516178e6dec4e1fce0a2e40aaee"),
			42: sp.bls12_381_g1("0x0aea89ca05d48c6f6a5fa5bf0558abbb8e534b3c637e34d16ba8bac582290d6d9e57926d1e7b5c10ceff7e87f5c260ba135c86334e524b5cb8ea36da0240335fdf3c9b5f1c2244aa3fc4f60864a561d3172e85249ebf20576a4065ba69025222"),
			43: sp.bls12_381_g1("0x1159fe8dbd167187a44571ff217d89e688a3363071e2bb8c0db62c718a220ccd4cf207dccf77227383043c0c3ffb5e1c03261695e75ca4867969dbbfdfae8f8a134f963c9de311be88d70d818ff24684e40bc9f26f657179cda2db4440707d3e"),
			44: sp.bls12_381_g1("0x050d4118b74598501e5a4728f9ed5252bc4fce18fca8c9357b7cde7685a47b4e7f8cfdaf8024e20c6793b4ef1fb8de471633bdaa2add2795766d35b719ac0ec8fe455dcb1e5f249121f1b3c89039f4f23758dae75a0c70dd5624d413e7fa7f78"),
			45: sp.bls12_381_g1("0x15c1cb9d6aa2798660f0ee732b418d8cf41f31c467fe77545bcfbdb093f2edbb5112284a67471e3a5ecde7a2449342de08d279ccdfc95d179bfe7209848f1e9c0d12849f11056c22020b87caa6a326b2c700bcdb05574cda8aa925f1bba2aa67"),
			46: sp.bls12_381_g1("0x067dc1457aa330108e7bf2deda97464a5d7cf97f0ad4a846a0ae77146246c18a35bca8b50688ca9d5f3c93f5e09ded121520fb11221508fc00c45c7a799fa681b6338c0b46cafb6d60eb171952d7703c380494cbbb231909b6a13270879bf751"),
			47: sp.bls12_381_g1("0x0aaa6b1b5ea679f8bb94a2a0b6e0da5e4725ac33c8655cc44b4425ecc2d8b68050bc8053ac99ceb905200b2017c2320d0757d2592dc4479481c89da3deb2ca4eb0c7bb576296d21ee4113c286d1054948242833f5d0e269ce40809fdd7e95d5d"),
			48: sp.bls12_381_g1("0x12533cf558d9ce68b29842f5922f76a1eb658abd9514c79f805ada871206d8c751fb84df2479311eddc634bd0ce52e64172117a19baf9f3b95f13d9f5134b2ce90b1c7de36d6195f951aa5eb091495d54b798932e5dfabd83629d8abc4fb2cf0"),
			49: sp.bls12_381_g1("0x0f47aa36c391e80197b25a155b8cc89b4d776b358973ab3908646a459c615a858628e429485059258b72c1b0cd93261a03647fbe62c6420828faedb2a7991dff5d96d672b5ac1307bab8353dead3df10d7c0c56d026bcb2bdbce63a383e39d2a"),
			50: sp.bls12_381_g1("0x01453e44efeb175f9a8cc2e643b72f12c767e68ac37dcdb138f73dbfe524b8ed9255e3aaf7e7547f4f22e6925d4e84a60e337cce9ee0fc842cf4931b08a28f80b36bf76f551b9aa135587b03bfdafa883eabb915040049c3179e2510cd85adbc"),
			51: sp.bls12_381_g1("0x199ff845a29ccd5256985b3258f308bfb0d16248d007aa6ee5b4613e09712c475b0060a571795deb0e7ea3d63b409ccc1303286bd3812974d534ce46f818845e4c08a949b23766514f02829e44c7b40232f2424ef9534f540942176038e7bf18"),
			52: sp.bls12_381_g1("0x16b4a430553896745a07473ac82c77040eae4f1089db9128d653ab0e41869fc94f6865d036733b65611fc086df72925808a42f656f5fba9543d96659f97846a591bf45924d461b8e0760fdb4f69de8ea5c3514e25bf5cc9167ada9a643ab2cb5"),
			53: sp.bls12_381_g1("0x1427f0441bafe070aa669d62f337187dfee4cde5b960009ff0a508b598200f7c805b3cf870a14516914184232be0a73f09473c330f46a9feee68f59333bcd48a0161aeb5f4fd443d38e915de8880ebb542859da28c7f6f0630d52db543c52405"),
			54: sp.bls12_381_g1("0x00ccc94c92dfdf506c4208a68fc1d1ea9279e1fbc44bdb668ca7626a2c891b8c14b1fdd67ccb571925ba9b1ea93fa5620e8d28615261e30313ef8f34188fe4c349ba132e25855d7d3b530e0c5bf281fdc6a1e07da311acd35d754384d1c78f64"),
			55: sp.bls12_381_g1("0x177db7d2c4dc68353b53b3e55d49ba4c57cca8a2502010ca82ef07fec4d01d3cf8e53fe24cff6c3d189eb0a6e9ef704e080a31bc957e4e0ab1f9d3a4c5775022c5566362e1a6086db80fc092d79dbcdfad8668a76d0e52e42c7155eddad21dad"),
			56: sp.bls12_381_g1("0x0642cdea53862acafbd8012c3825877694d1af4475f21c9ba6d0984fe45d52e07329b84778057d21f62e5baea1fb6c88123d093f9eb3ba1602425a105e1bc6b3ec5f8c2ec160b1534e0858ba848f6b1b24ecbe92ef25cf12aa628ca390e4833d"),
			57: sp.bls12_381_g1("0x0267110160b466cfa872fb6e4ed6d425df63023856016256b764fdebc86d51ca7e4fb0c0a49a9308ae607a5e9a15ee7b0d5a91c53b538a7f8849afe34fae9168b5b0423f9c5324acb453e66080b5baceec5df51569f1a796712d860349222423"),
			58: sp.bls12_381_g1("0x17f18dea49ca2b40703050bf60d9d0f5d9131620e4dcbc96dbd213eca1a900a3d54acbd715ee6becef28be6871c908f6162202b5a7a138726a8fec6fe67f0d5ac7e3ea354b76cd175a796f65a0cd352e74489f4ffad1da23a2130f78645d862e"),
			59: sp.bls12_381_g1("0x0e26f0275b0139adf4088e44c01e8b6f3ed68634cbbcf4f6888305de7150537302146bb88ef822b2be103278ebdba6b40c8bb1ce1898c1a40b049fb8d8197f2010a43b1565eca22cb568c0d07e76f4bd42d17abfd79c366d920eb5255bdc52ce"),
			60: sp.bls12_381_g1("0x19535bd323b64495e6bb25643e4c39731fce66361e2630dd3a107f322cfce9a215a516a4795eba4f170a81311540e4eb112d969149df8bec62341e204ad6eb84ce01cd5692b1895ec187bf20eea87e5fa869f56d11a5d2335cfd10a396548594"),
			61: sp.bls12_381_g1("0x166281639a06e7a873368643d095cc94048498a317c9422ea71065d4733efc9b250b90dc2d0fe069c52308d5f5127bc90544322f3d18b70773b7edaa55d67b5993fc36542a08bad43ad0130ec374b9596cc8e458400c3b0259f15abc4ff01831"),
			62: sp.bls12_381_g1("0x125cd3b5d8fb902dda6337ffdfa29f9363c6804411d3da9213ba67c8e442b6967dd81c5b326c6d4d032b28e74325255c11ab0407073f63fa2647100d0b0ecc12897ca88892ac377f36f24377e97820737f4f147f6e97091442c31baf8e677fd3"),
			63: sp.bls12_381_g1("0x153a8076a6d139d60d02a7098816306675d43e67fea58e7a453e5893b72a21a73d067fdb7058d19abd591c01f3e3798204af92217b6f70b077a687dde5e349249643402109ef36ab3ffc9bfe21347adec094ff9f38d3e84765809e55da24e545"),
			64: sp.bls12_381_g1("0x098f106f7044c00fcf6e8b56e3895bcd2e283ae2e45cd15a7c15a63d845c4ec56a39c6e12eb2886309d9d94b4a63c0820343c99ec2dc969a265eb39dc1917c7d1563ee32eec5750d8e3d628b45e9bcee89ac0de2eee6f60da1837950182fe005"),
			65: sp.bls12_381_g1("0x18fa998208496941e7314ddd2bae0e9ccf70d5a8f4bbfdb2e0643e1295685cfc017df3d75101cfb35797190f99dc57a009542999f98bd7737c6bdba6b85f24f6b5c3343f7c2a25d00731976aaa438d216c4b578262cba7dacf61a8174f60c04e"),
			66: sp.bls12_381_g1("0x05e34d4ec5aa31b1425923fd1bbba5354414be9f55f5b94bb4c68d5930c9f8f189764306216e1e3006b07e4afd81a51d0b2e2dd0a3445bde38ce4ef08b14999f43cdab5694629b2847e83a4b2fdc6332b0635309ed994f895c7c38730c4a4e8a"),
			67: sp.bls12_381_g1("0x0b1e68cde445d709b8550fbe6967e48e1569b05a576c86246afdf385e5857fbb054ea8c3168cbc0be59a4cdeece5b5d90f26e90d980a0d7ccc132ba53aad7f7ee9fdf8cf56d5ee061ee968c979e7db80fe98235b3aeffb0671fa51981f8187e6"),
			68: sp.bls12_381_g1("0x0b5322fc4c6a0bd93f663fbdcb0317e8b17f2fea8c5e3b5a362241f096442a6126793d18645aac79a2c4c8b3a290cbc4005442f2ee4c51c7335700c9df4cf2e2c41ec34425439e919e857d1d8529a8ac01aa20d402ccfaad30ec1eba878fa1f8"),
			69: sp.bls12_381_g1("0x0470ada6b99ece5d8f1169e13d4980616aa98ee9be9346ac671113c2f51f710285ad0ffb84101e23d88bbf59896bd7c10d9342147c95d471d3aa1001bd00c56dc53880567fe6a021927adc21f9f1594080a071f522b4a0449b89789b26f5dfd1"),
			70: sp.bls12_381_g1("0x169b8f5be75cf9d7c8bdab6ca5eba2f81487106fd24b9cfa781c78a8376a5dad75648ffb6f8f129dc94cb6dcf867d6a410c712120484ce081f19c2562191ad6c94c1636b8f77b33e03905ddc73a0650e558aaff0a22300c97705dbcc7b87338c"),
			71: sp.bls12_381_g1("0x04ac493bf2f0ffcbd18f7b21ef1d6aa608daa22bb266300cd1dece59a643a628082ed10c8c368d2943cf6c0e2132b3ae0d7f6014cf175007cbc6839114547c617962dd8a3efe13afc44e82ae368d458a4384d6e707b0418ae9a8239c6e35e62f"),
			72: sp.bls12_381_g1("0x19dbd8bc27b2edc13369823aa80caabdffddb0a958464c36fa8df681a5815515180816d81df755a6033a87d4aa626cef060a8da3e3675d9cc473b33bd8b861a442c543006430fcc598365e77ac6682d557dc3a65bae6546082f1ce749d8fc288"),
			73: sp.bls12_381_g1("0x0244a62179f0b904c22aed01b0a105e87d512344c311713c3c14bed2678ac31ce00a3bdfb0179072afc2f1cf22a94ce2187d6b453a56db42b236f1741f4a14ffea4ea2c9b9923af0959e2e4272933d213adb7c0b645a0c1007335e80562b9025"),
			74: sp.bls12_381_g1("0x161f7d18c9f897ed99cfc6d18a37bd9320fd1424589752a18a93bc151da2237bb122f825f6d1a8a0b1fadb893e2e26c90e4227f8fa243a900898271908d4eca91d53fba858d5c7f34b45f72073f6da981d76f3da26714b3fce3b4ddbbecf288f"),
			75: sp.bls12_381_g1("0x0c2b4ca98833acb02f6a0f4831234269589542349753ab99f65cb1ed448be375455040c96834dd9556a67d9c287614da0bc9c09607389631ee11abcc92bc942958dc1a8e93badd8fb507439cc150ff63d0772f74b9b9caac49a5ebe29244649a"),
			76: sp.bls12_381_g1("0x09b71526438785182886f867e589e6550144c1d20a69ecb234ff5cf5fa824dcd15a0b5517e7b344eb015d5187d6f16520a23ba41fce409d7a3328afeb347503b54818bc8500c7d7db083bb2650b0caaf62dbfbfb68d5cf2127e13ead85163ed3"),
			77: sp.bls12_381_g1("0x0785a397cf7e8fb73abb528f9ecc02e12f28c79935637664a35b1cb89444c2fb1c85db93944414fb078efb407cd712260426bb912e411b7ab5f745817daafcf7ee6284bc2933709900ce30c23d3690928e93f992167407187109c8a3fcd1660b"),
			78: sp.bls12_381_g1("0x0786e17702689dfd983e2fd7ca9414c02fe6d3c91a4ce8a3a053761982bdb534fb664ec4ced06f906a26e8d0aafaf5780e7ed824f8b85c165eb1487a77976e37c3df15cd75e5007c33a3917522700bf0d5f64ef94d3f9867703563fc08400f45"),
			79: sp.bls12_381_g1("0x06038d834507431480620015b59eb32d6679e0d692e2bcbbb4fc11873343c20ac1e5985fab548ec3fc1f6106bc94e0ba19ee64f8392c1b6f49a87747b59c1544ce9671dd9628ec3b2c3514b4b48cb860726e39e5b2abcc2cd6b19d0378db4b57"),
			80: sp.bls12_381_g1("0x0dc525c4c1c3f2aac8ad7f4688f11c0dba2170f9150d79ab34949e41234592f58594c234f96920c877c63d2daea06430164a5251d3411483f3a18c0dedaf00269e7fe13f211570afd95acc907cec29ec3171e29676958edfd7c948f71a2c76c0"),
			81: sp.bls12_381_g1("0x0b4392b163e9de12cafb9f31903e28a52aa1659d152c3791e38484d2afa33e6791f4bd25f75d938e6b3904e73e317e1515cd6cea058cfeda2848b75363f8ff8e8f8a5277a3e82876f358fccbbf49a3ca39447e56c7192dabfeb451a4601cf904"),
			82: sp.bls12_381_g1("0x0383134f62a3783753a0eca1ec0b9a42631ab8b0a730f7a28c78d5ac4284f89438181c787fb9375e688c66bf201074230bf4c3f78a1c374c72dcb9e3074a3eef61939897e179c2362b9a6f5203acab3099809fd8db4a7db338885f653f9e037a"),
			83: sp.bls12_381_g1("0x01e75bacb8be5d05a5bca0ce20dacca2455fe92bec5dfa86b0193438040787340a22b16c6e96fcc6786f8d26df1e4779039b77f450aefd9d18143448867a4196f2cc2ad6b58cf22dbf00cdfa37c759bcfcc25dd5ab10bb391beaf557275e0c73"),
			84: sp.bls12_381_g1("0x0fe567d4be79c8ae69c443cb463ae9ab4a6ebd611e6872cd505a0313383a05a0f0efe507c325a38520b07b7ea48f3bb418000c58a56e595ca6e4d4e61f2ea510d23fb073a0c51386e6ad16ecc30d73fc0ba8d15d759fd7c7a1c90960966aa6ac"),
			85: sp.bls12_381_g1("0x15e1a160e860b769fb67ea84c9afd20f5bbceb007c7f26a6b6675a0b684931da3f04d7cd81e9177d466cf60f365c445001ad2368a2c7864f201510717c08475f72791ec416a2e24d3bc2adb17db9be2f887ebaf3057c3dd274717c1cd268d2c9"),
			86: sp.bls12_381_g1("0x19fabdb25895d941fbfd9f11645f5e47ad92beaa5bf32ae6527d7967c7b7748b52b3049b4e4f5eee0f5833863a128329195837a95ca033a009764ac1013aba9ec847b3bc1259c80b5f1167d76992683e7c5a036af85f30b3447d32a1bd890338"),
			87: sp.bls12_381_g1("0x10916aa5de1156a2ab84e1d938d4b95fa8ca530a0d1c90f4524a0d07dd014dbb43a237725c4f6de2674fbea0cf641a6111dd4c12bc0717d6a79db22791b4cbe21ecdff4470ab406cf0f6c07f7f7b4d9b1fcef13ade3c12b7f2af5fa085eecf02"),
			88: sp.bls12_381_g1("0x0e2f3f838bdf1e4d21d0530bac3b40f62f6540459842aa94f461c25694046dfe2f9395647d6cc35ca7193c69d7c4049d07e575f386618700941145dc5785bdab9ea7e21c63e4351ec8e7ac62b7f70daf1d808b0e4cee4df417dc4d2470bf376d"),
			89: sp.bls12_381_g1("0x0ebbbe9a156d69bb674b81c4b43df7a6761b5a75fe7ebfbb8d38e114a532c24cef6c7dba02d78043080d78b734ef7e340714e4c119d888a9e6bf4c6f6aabe3c1e7e9fd9297bdf29e9b760288f600134f77e64aa6d23e46ed0cd24e55a0da0e23"),
			90: sp.bls12_381_g1("0x14d7058a195deac939fa85a0a5ea3736d09d6e618cd32c04ebeb2f0445281f7b2099db5f60d49216c4b5d7d813b91d5e14a76c3de4cd856cce02639ff2c908e57103d807dd23f3069965e7cfd7ba3bf3f9c2d146598380ee118c5bbeba32cac2"),
			91: sp.bls12_381_g1("0x0f46b652bfb3ce83315ab9e14813d34e8e877d1959aeb2b54b16144e59ca610e0f79d79cdc0984dd49569acd411305a4088e829629a969e10e816ad9de7dae6fbe2b8ace88aa8980d50e4130af6449db096400c5cb43b1a99c14d68bea8d89c5"),
			92: sp.bls12_381_g1("0x0ce254286051dccb145535527c84f6ed9c5ff896d1d8719b40514d19293e174c1d4eeff33ddaad54a23c6d970f4683580a5a9e2925a1cc8a7f007574f47f11422ac6d4ca92dad07cb0b39d05b77b43d5f4bd971adcf5f7eff9fd5b56fef7cb38"),
			93: sp.bls12_381_g1("0x09cc1b4d232119cd533d100a61f097a11c27f1cc0c440fb710611a005bea132d0e8e902a03f58fa45c95dd34e1f87cf812bf893793b504db349eba17dc890baee1a17993d306945548326d685a806489b7405f67fe7dce03af5aa9c8b67ca977"),
			94: sp.bls12_381_g1("0x0f7a19e400c4eb604776a7ef14d02b437c82ce50d3c02e0f20eb7989ccec802a4058d10eec54005b119fd2acd9de85b21329b26cbfd59a0bc2bdc3583adc4a5ea12238bc834b3a9d57c51e6500143be183a8866a4cd06f1fb4e5872c0291adb1"),
			95: sp.bls12_381_g1("0x0cf5df65557904f80fd30c5c6aef25177d954ba31fb3f89409e9a7e612a96041315a9d3822bd13ea1b14b98d545b79cf0b8606986f09ed17ecb21653d764df81a0e893bef7b427e1d80cc97a5d0fdee72d70e0802fa189ff51b439899f997e0a"),
			96: sp.bls12_381_g1("0x0e1496ca998edbfa5c50bf71ea573891c690e2d6c91418a8317736e8d592055ca6bf1182853688a8f7864c7f632c7bc610b4cee9b0306365487cc15ccb4d06abc66ee706a3283364fa6f916000118fac23b96946e3e7ecf1d65b71c52ac83622"),
			97: sp.bls12_381_g1("0x0a68127127a723f9b135ac14a7feadc9e9a63e48fc4b1b152b4493f0a261d5cb50ebcd3f84181adf356ab85cc3fb881e0147ec66e47802b3217532610c70aa41530b2ca10c752080840af5bb5f3df7f75f2ce5a9917376111f00f4fae5b54814"),
			98: sp.bls12_381_g1("0x136181105fcc9e92bb5a17d60afdaacb6454f5953744ec437f84c16bd8e13a87df0e385ecf8296d524c662410f20069f10df7be4187dc52bea35be8b368c22cddec8d587ab6a7ffa88aa6725443961335d003bb4944f6b5e465deb23393039c4"),
			99: sp.bls12_381_g1("0x14a33879a342cbb230db75cf168a84718faaea4c376985351de42a501a5ddd0cb8b7d546ab7c250745eb25dbac9614b705347f1e8d40b7a9e7c2e3470057127d1c048ded0c983454cd0b614addd78456e181909ee2507f8d75457496edd06449"),
			100: sp.bls12_381_g1("0x165b6f529557d4ff9749b5437f97520ed1dfc297c3ea2dae2ea7ec6c12df933d6f369c34d4c7d9347b11af63ae68e4230c642c94c7bedff4616228ba423f76e398dbeaefc981fd15d196d3da7c876ababde1a4ad12e063e5f3c0251aacc4e05b"),
			101: sp.bls12_381_g1("0x043d0eed81b9743aaa7f4822e52d0be134f23bbbfc2f7db3d36c36a0f988cdbcbeb10c2db0cb84f23398d1e3e9f706790fcb94b7d510779757b54797e382a363c4c789b4d859d602c5b9f023d8ad576bd34db938e14b471f487b2128d774c501"),
			102: sp.bls12_381_g1("0x03ac1ced8f7df97315136ea104a7032a99b5cf65ca497401fe230b5d28d281ec7a85afc435f4e7f0869f2ef0945944a80e8357caea7fe4141c453025f597f7a6354fe8c74093aa81c15accb7e25099bbd0f4e063b0508c8ed50a1608c9f76465"),
			103: sp.bls12_381_g1("0x07652d442a8599c5dbcaa66b0a08de02a7428a7c8299650d261eb72f7d026a0005033087df85abe3364724bd4ebe0cda0b6e8cef9bc968e89ea744fc22754e1e5fde33ade25dd89305750fb6307565c6ada40d1756833e4206eb7c724dea97c4"),
			104: sp.bls12_381_g1("0x14decb06b66d41497abe6f68720b5c715e86a572a889eb6148f5b7c856e6573490024907b5f34cf1f07701d058a8644b028f93146664e1515596ba30dc87a2cb9fcca641914d2a32170b58bf0080bc2313b35d783f4476d6ec9974a6bacc3dbc"),
			105: sp.bls12_381_g1("0x0a47c598ae2b6caa0d2c7e6610bc6acddd55960d084d38f8c07362c0f60a2c1e1c4bc97bbf79c32c7479cd4bec3edd3717efcfe78d9971a24e02eb16fc886454d3e9d84a8e2da3c5c985933347523d94debae1813efef2f3e1dace166c6b721e"),
			106: sp.bls12_381_g1("0x09eea256ee7eab2ad69e4fbf9b17dffe823f8e31b99328993eb59c36d0ca0e0f3ecb56e3c5d6ee94c9411787b7f3de6010acd440aed0ca562711d8bae4c7dee6dc19b3bb2b84176b39fd2db90e96bf17f0dcefb24b69cad9f4a2f346f252f516"),
			107: sp.bls12_381_g1("0x199e55b3f04d64dc8a050990257c3b54b81cdc8da1e28279bce47892e12e42b2e733f695a21e25bd611177af8c0ec7a2038bf73770f6655c5736edfb38cb52795f6900184fe20e0a923ae5824d7341b7b469f05476d22e5318794735b1e7449f"),
			108: sp.bls12_381_g1("0x08c2d27a70d622ed19639707159fe6ba687ce02cc7d17a2f29f4aabbf0303649925a938f13f74739b99e435f6750694506bb274aa000eace47ca9de82d8fe2113be3791902f7f90ffa655505fa68e058173941558b34ecdadbff397ff20259da"),
			109: sp.bls12_381_g1("0x0dc47581194af2014b5c0642a4a7368957086b2d7c545bc1901872fd0253f7f45153f41c850031fd1dd9efb617156d0c13da02a1da693999eb1d88705525979138594d388b71936a8b568ee949aec8ef830b163a4a08a89b2e5d2fbce0987631"),
			110: sp.bls12_381_g1("0x0df971d06224830121e5274f888bd7a8c41424f78e894060d1c249bbe80e0a1fa2554d85627b3dffccd31ca050bf9cfb173fb4a40010e79dda72f2ea707f142b1f2a1d6eb41479b4b137bd9cf5006c3cbbe02d14b24fb59c0d9ccef844666f97"),
			111: sp.bls12_381_g1("0x06089b3a70c27be48e76b9ce7f4751570500893319cae4cfff59c2d28a53210e180c2d43d089adc29360e8d152c9d8bc01d7f3a1a7c93935ad6889d942ab0063751a28ba3f1c5323ba04cf64f2637635ba3e4288b4871523afd1a7b819ad5610"),
			112: sp.bls12_381_g1("0x0f265175e712ed1549507c83e5ad37d4abfd7ae6c32fc53f0513925b1d96a9d83c0f30fffc1648cc1093f88dcebde838154841817f5f5d33bfe55387f59f1442a8cbf1c3f985346c8232c0eba43cb16fddfafe7187feb0201d9b5b58f42275b2"),
			113: sp.bls12_381_g1("0x035bd41e84956eb9fd7ae1e40bc02ba8406450bbb1fcb7b9c53676a92b4b85251ab3a8a377aff3c340bad15b5cf1b40510bbdbcf15b2a8255c512ad92db8e2ce2281a0d56d0b51c25cffa7f6a7ea95ce2fabb913cda1fd51a1eb6d74e05b8d04"),
			114: sp.bls12_381_g1("0x0ed529f0358f456badd5eed64f3fa4dfdb1a23c8781b597bde11b7b07c8be28043aad20647f8266322268eb14a941d970a553e5efe5948d9a359077f1babc7f64636c2fab3e1b422d0247ddf0a10f07e63cb27a5cc017eedfde05c49c5254ed2"),
			115: sp.bls12_381_g1("0x0fd150bf20cc282e2f8e9020191406338c99da5e6ef2ee77c2a5cfc46021adeb6a9397738174dfeb32b7a4a898b19a570a31f602c65982d69f2998c6258efd9f2ff35970b01f0f7b5c322d09c3bcb5cab75bdc47225cf2ce681de6fbdcdb1167"),
			116: sp.bls12_381_g1("0x102c723f0af06a976bf3422f6d4d72ce4cfc0555a19049cc58238df03143f70859e32c3e002aad9679534de6951d16df0cb83da87ead5103fd36a42dbc1d7b612405ce67371e85bcfe0b02cec01c761c7fbd934d92bd180143a631e68f932920"),
			117: sp.bls12_381_g1("0x080aefe0c1265c860a86c450ffe122ce75023384dd8ebfe038cc070fce7404f795411aaa5f07e6bc329b801ebd5915550030bde2c75a35584d4ba18cb6fd682c09c4dba1047f4f6cb7b44946c03a5d4dbedec5801712bd92508b64c749a9c260"),
			118: sp.bls12_381_g1("0x0fb2fb5b255bcdab5201c20b2050d38b7191eb252bac9116a43bad36b85139081b10a940325b9f12b0ffee940b6a449e0fbbae926529ab1fde50f783ee68d94a9c6bdfb288faa5f04eb5e1da33d1e8f1baf5dd80a51f6993497bf2484ccb638a"),
			119: sp.bls12_381_g1("0x1148e2876c363d0237f2599edb68ece0489969a29eefdecc5960c203e70f742e941162f79dfaa1a29115710e53cb406a05c39113eebd9177cb1a98c002b9f747ceec410278e2ea55625e74539d003630a0e67902f79f9c42c2868f1d5f9c2a41"),
			120: sp.bls12_381_g1("0x16fc8333ad42447c6f960de51e6e30b1a4be68ba001a1b347991980c2a91b8104b6af6be6fbb823615886293876d4c5616115218c23523b940a63d94b473583d49c807925e7f1e5520e6e42c22a56d2281c02cc93d57b3cc62c0bfcc2b041dc5"),
			121: sp.bls12_381_g1("0x185b94fb7afad798b112a59d1f4f8f67c2f140f51b317f460fd4d6a2fa955a6f20758f512c7452d07da62860861d09d1057483ef377117b52aaf5e2c03abf252d7f3fda39ff3d941f687d15fb75798a000e2acb7d93a1a8ee723666fd0ff91a0"),
			122: sp.bls12_381_g1("0x1141a0df8fbb622705bf2e4cf0dfec2179c51d131be96b6d35e1d337768e1e5e10477dbff55250504fa0bd7a32d0deee141af687d12b4d9a613ce4597adbde060003d71c170ec6aabd6c7fd335d926f961c8d3eed26afe1686c5f898fe6f06d0")
		}
        
        vk_query = sp.local('vk_query', vk_query_not_local)

        vk_x_not_local  = sp.mul(vk_query.value[1], input[0]) 
        vk_x = sp.local('vk_x', vk_x_not_local)
        
        # sp.range(x, y) goes from x (inclusive) to y (exclusive)
        sp.for i in sp.range(1, sp.len(vk_query.value) - 1):
            vk_x.value = vk_x.value + sp.mul(vk_query.value[ i + 1], input[i])

        vk_x.value = vk_x.value + vk_query.value[0]     

        list_pair1 = sp.list([
            sp.pair(vk_g_alpha,vk_h_beta),
            sp.pair(vk_x.value,vk_h_gamma),
            sp.pair(proof_c,vk_h),
            sp.pair(- (proof_a+vk_g_alpha),proof_b+vk_h_beta)
        ])

        list_pair2 = sp.list([
            sp.pair(proof_a,vk_h_gamma),
            sp.pair(- vk_g_gamma,proof_b)
        ])

        # TODO: check if this is correct, I removed the check1 and check2 from the contract storage
        check1 = sp.pairing_check(list_pair1)
        check2 = sp.pairing_check(list_pair2)
        sp.if check1 & check2 != True:
            sp.failwith("The proof is not valid")
    
    def verify_register_execution_4_accounts(self, input, proof_a, proof_b, proof_c):
        sp.set_type(input, sp.TBigMap(sp.TInt, sp.TBls12_381_fr)) 
        
        vk_h = sp.bls12_381_g2("0x0a1ff55d377bc5d9ad20881390e9149784a166f49bd77f46c3b58e5dd1baaed7bec0704943b3a8e6e34e8ec5fecbdde70338bfb672f3e2875b13f332965a771905dcf201fa8b80cefb0c15ef61bb3faf731f2338fa6e91af460c4596b286b93002b02204273442e2d593d40f3b389d9fc7343b31bd257e7337b0c3684f3b2c09613e3f07c295e3931a562283679a0b1910fdbdd62a38c8e25a3f089257d9ebdfe3b578bd8067d91f950ed310987dc68b1ec4aee0ed88f51bce064078a9ba201c")
        vk_g_alpha = sp.bls12_381_g1("0x15cfe029e52afb3f26099db6879c7a74e21bdf415fefda77b45e0cd82646cdc4aa4b1cd3e89aff5b0a62ad0da0d079ee01f4c444d2db5b4006e86f5c37595c24187c7b7e12a9c06664ce9912f46fbe13ed6993e0005f0856d11856617381bdc9")
        vk_h_beta = sp.bls12_381_g2("0x013c38300a0a0d9a40b574782dfae2269a1aec7375f00e4927fe9d6fe81634a6293868ece4fb9508688b9020dcec221206f8e408535846ae2535b3ac61bb90f365c4932542d3e74d6c8b48ba931530a003daaa48f12d3fea10d93fe2be2c2d44174407360dccd3c7a79c32dc757a457cb928dc1845298aa3e7fae79ee227b6074e3123a78b0902737021dc95bbcfc8c803ab0ceec72f8c0850a47d0c83b8669815ff8cac3c9e4af134307335a8baf465401e30dc5c8192785766ed305bcda68e")
        vk_g_gamma = sp.bls12_381_g1("0x07e1b28d85a85e7a9f5aa098db2b2952f6950fd663877309222c6bacbb3d5ee8a51ef52b3381dbaa81d626827d045d7619350a28fa3746f9affcb591eca01b1c371fc301d19f4af366811c196e0d19804201932668a324aba0b06a5daf658845")
        vk_h_gamma = sp.bls12_381_g2("0x0a1ff55d377bc5d9ad20881390e9149784a166f49bd77f46c3b58e5dd1baaed7bec0704943b3a8e6e34e8ec5fecbdde70338bfb672f3e2875b13f332965a771905dcf201fa8b80cefb0c15ef61bb3faf731f2338fa6e91af460c4596b286b93002b02204273442e2d593d40f3b389d9fc7343b31bd257e7337b0c3684f3b2c09613e3f07c295e3931a562283679a0b1910fdbdd62a38c8e25a3f089257d9ebdfe3b578bd8067d91f950ed310987dc68b1ec4aee0ed88f51bce064078a9ba201c")
        vk_query_not_local = {
			0: sp.bls12_381_g1("0x04c9e62e122e241506c1b3082cff27209d27a4851a77b309f47d9e59f8675ec744ac5f06a8e9aa5ca9b0b557cb2d176401fcdec33baf541129996c83d05f8a3845c6ddbe9766349c831327b098800405c117cb043f847695ccdff27e40425d90"),
			1: sp.bls12_381_g1("0x0c47d2816fb5c13fb1695aa67eab0bccc0e1ce17c4eb3f07aa906f831aa5fd0e9ad8b658b656809bb75b1dcf59d75fc001905bbdd821306b2b39edbc7d83a3cfb1c26a11b47ec45ab7319f86255157be0c52ce645be8b716c8e702f8105723ff"),
			2: sp.bls12_381_g1("0x054c22d83b26c878c5b9b4a07dcc45b67255f1aa08bbcf8728446536205452cbf7157f28f14872a0ce863f0849a5a2130ff604ee64ecef7149da8cf6e7ae2e0b93b2349fc191476313127cfb1a3840782a59cfabc87ff1ad2700914e6a13ccc5"),
			3: sp.bls12_381_g1("0x1323cfebaf362457ac2112824d9b02e19ab61b38f35f88ec8a7b26e0f7a5a5ab4ed536efa2d3f975fa2afe728911d48a036bd4769651ee67deb0c2f1302ac5f3547fbab76db35c8f946274a1f6e8af6d3f116b78c5eb544337cff28ff9ae1780"),
			4: sp.bls12_381_g1("0x0e6632257764b73ea1f5c162b13db07a498c29cd57fa253236c8ef062934941747ee59a82002ec50965703558ac57ab10bd3f9c8f9612004e7d936e32fdf142d8e79849454ca5041fba261086372a81547f9011e723c6f1d4aed32c705f6958d"),
			5: sp.bls12_381_g1("0x155a3db8d4e48e0cc0dc5dfd44ea7035bfb8baa32df0cf60fbc52de995d8513017d59bd637b49c888f846940b2c5bfa8080d2b85dae77cc1a4f7c3dc261e6bbc592ca9013477b4b9a76e72574c0308623ef77e193f593ad86c1a4f141007c934"),
			6: sp.bls12_381_g1("0x06db304d091838f65fbbdedc39ba50f197e5dfbf4a9f0d9166e3bca3daf3046dc67e96118c038b4eb56ab3463e8e558a0ef35e556027ebeb66d5fb7d0e73545a65d58bcd6d5f8c140e13b582fc2aae541f344d42948db1d331e076f77fa96542"),
			7: sp.bls12_381_g1("0x0bf0efe9bfa7bc3e7bae77bef318ae62547ad41f87d56b78b713fa5cdcd7670c4316e3aee73c224b21ba0d94315496700112ef5a673fa3e5041bd15bdaa18447fedb0b15a9561fdf0b1ff953f6766f1d4418febe41653db62bcd0f4d027e0368"),
			8: sp.bls12_381_g1("0x0f11d03c2ce0738ab1e38883159f39cb7572dcce8ff2f697b6b427ce9d7c50411d60bfe2081e9d30ee2fce9ee6700c89137aa871b27fb533516481efd99fbd5a306b8be180c98fdf717d0cf8cf764690611b5cb7358c9764651f59ca26076260"),
			9: sp.bls12_381_g1("0x0bf4936fe25f19ec0f25d5725309204a7d90df42ecf10156edf54831684d52cd48f7b163588990536f29f7ebe6e8e9e801d3d7eafad39b16ba64b0205d5f4ae2080d1bf6d500119dfb79e35bbe92a683e873c1f1811171f7e9149f67c8b97e27"),
			10: sp.bls12_381_g1("0x1270ebb7b16ba92015128c52bf7c1f79876a7d53bbe9821195abe9ec888776a5e0332fe991b09464dcc4a58b9bb4c6c316b5a67f51d48be06dbdcf58edf548e7be4d0292f2dd6fc5ea7929adbe799e18ff57de390d8edf09d7c1accc2b3d916d"),
			11: sp.bls12_381_g1("0x0afeb5f87a1bfc224956297941d70532bbf1aad3b7f82dbd350618405ffa63386db905769552e9d44f864b985b0df137106f7ebcbd1b92f1555cc2eeb61715fd8cab5473c542d7679f6787ce6fe7423c3eb5531907b3b3682f4acce71015ce45"),
			12: sp.bls12_381_g1("0x0989d3814eb6fd5d352f7d3bb6fafca6e1a5afe32bc9a9fc1430315ee32aa83a68fcf8616986d23714b76c1b8c416b821518b9aac40afe4331f6fe771f1cc629e0d175df71358f16d65724d0b9b854a30e912206bcef26b2518784f7e9aa4068"),
			13: sp.bls12_381_g1("0x11b72fafe4bd2d85e4f86fc94b7464ce9bfb90f14f7c2163d0071a1fe57bbbe16951abf8fb06ea0f6be320de01eb6435030c10fb2c324b058944c2d3cb043e494a91726cd46b822fb4f8ef02b2bf80320834e2c2440cf53396c8821cabcb61df"),
			14: sp.bls12_381_g1("0x046b9ecbdaf585eee948b773dfffb91455f598b966b808ef402af225731b8280730cc0abc2458343c4cdf23830794b6308babdcc4a230dead7768b678d77f972e72f18a3b1adc9e7691a4529bdc7c5d55f771a270ac7ba95102421428022b8db"),
			15: sp.bls12_381_g1("0x105822345e3abc92e2651782ed18f95499d53ee01c738bcfb19327d244064362e84aea862672ef75dec3bd0c131f0b840cc467306c1988442a1eee0b944e06e7dcf880f5ed2435005469723d243e9e51de78ee95bbbda24b72a7b8a6a987c3e5"),
			16: sp.bls12_381_g1("0x19049fde06b3778fbde2daa16075edb819dfaa1baa18b4916fc6bc503b4d2d14560548dffc48d5a6581572b12601917e04c0292713c79e122a75b722d29ecca77ea57b4067d4c67df2bbb4a429deb1474823190c298cd1eef862c28550e9f380"),
			17: sp.bls12_381_g1("0x1974132a0a3378ddf7a97576f5f71d9e31de99ca1690f6326c90730589db063c87fdeaf104bec66fd69a64dcbc47c39917839705f4bb037ab08f324c83aa491853b11e65fe99946a1be61a2e70d02cd2a4cc641ffbbcfd2c21ca6bdd6d5f2783"),
			18: sp.bls12_381_g1("0x07a29e4550961c6e218454efabc55abdca2212df6d424fd828a5c155c7bc06714dda14b35806c749b00dd87d84e42a150757c34cce27d375dc23c4cf765c58eb18dfc0e0d256f4de0d1f3821a2c3727181e30cc9570f843c10a1869747517af8"),
			19: sp.bls12_381_g1("0x165743e9eeebc7609a5f3f050188844bedfa96493fb054b912c0ef820ba189a57120e479b4a3b9b6bfedd47f92f017c602e8064116948d5148f6bef412338abbc0628ee39384c890cdd6f1554994d2f3cd7fd06e352e5c08add14bf4180c9b6f"),
			20: sp.bls12_381_g1("0x0f993a5aae8d27266aef53b598fbbb82618665a4edb22188e6db2471d6d1bf65656860eee4796daab51dd9befee902860cc62b7caf552cf1213f5407f944fe378464b8bb4e021204813e37c67f434297f5f907b5258be54eada373e424ca5c6b"),
			21: sp.bls12_381_g1("0x11fad8986bf2607563b760777114f2fbe1ee024ba997a6b76879f58813bcb1fe15320501f33451e5b7082a7e42a3d3be0b0be4de8701166b5a25f668f1ab3a988f7939e28096ff5a1f5da2d6e9a3ec83e35801e53bf640ca4d0999604f1b0352"),
			22: sp.bls12_381_g1("0x15b236a832ab290c375cbe0cbc026cca3e3b033218af20ae6a8fde159e4b1ea17f1c59955fa84df2e31cba6683dd5bc519b0733cc139dee2515ccb6c6af691d3223ff8abb9c1af0d3e64e2975e54bb89ab80ab57fecb65736f40e1029d86951f"),
			23: sp.bls12_381_g1("0x133db520071be6a0b0502a23665f2c2712aea253113e7e54f22b532dd5cb91e03502e1bc96b1808f512fbd16e02e4ce607359b99a978b1c9e8f42207e57f574e72eb6f63bcb350067061b8a6edf052a00c9d4f66b37dd409c02a5676a300d2e6"),
			24: sp.bls12_381_g1("0x0b2f98ac98d5e40e5a3ffcbdb8d550ef71d166c49280bbfb3454f1e30ea57c430097e51b8c4affdad58148438488a51f178f2cf7e04ee7270330d5310959d292dab68b8dbf08bc47ec39a3e37169f6ba37b301359dcbf4d1677e5ba336145d32"),
			25: sp.bls12_381_g1("0x1532347325e67d6ee5d32afa164ed28e36530642c2feb83e19e04194f531cfa1f0838233d88ede87f426c171440826a5035d1a5b7ffe4d6f8b412b3e6a1868e6e00948b5307a5d3e0347910ac076669eed92e122fa220b4ccfa46cc445c4f884"),
			26: sp.bls12_381_g1("0x04fdda765f8186bf6400ca535b5dea3b58c709684fa844b0cdcb81d848f9a769fe6b14cc6ed73b087c43c12606ceb3c815bacea4ae083601b815b562b503eedf97a6ed9138945236ee4cec1685a0107aa4762dc8c3c1e37788b213c2e604d8b8"),
			27: sp.bls12_381_g1("0x077933142b3fb03fdf3049925ae04067b58d2c0e7b751ec746421a598cbe0bc2c938ae17bf45a6db770a822d27d3a1730e01a47a7e58831ef5a1461775a089179e74557cba7e217f1bfb3f43c5e3dd6dc9e39e713e46d69c10bfa7059ebbe1c7"),
			28: sp.bls12_381_g1("0x026bba8ad2552f5dfd122e6a48eaee1d2bac365ee737f98a488e69bb1df7ef9d272b636c67439f6c2eae6e26314869db191527b2887647126923ccc3a830800cc64c582e18d7da3b27f48af93d42f347368a93bbbb24426b5c64bb0e11c58adc"),
			29: sp.bls12_381_g1("0x068afa8e51d9fa352817678b7b90363bca96ed9fd2dc7c3db17b03a754b85ac689e016adf675ae9c2a59f8531f5e5dc41128ac0d5056fc47d794993d2c60a5c931b0f6203c3dd77c563c53fbf30c92f11d5bfc1ddefe969e38205ff8f0e75237"),
			30: sp.bls12_381_g1("0x09b56245cbb363f1e2329211065c6acd1a951dec63e2cc0451629e5cba19db1e9adbe0d61af4112402f3df464e3817a9002a5084601f329f81ee4a4b6c024a9e14a9aa1f148cd0517c8b7b8cd3c79b1a7eba61708989dc5d513e956f519333dd"),
			31: sp.bls12_381_g1("0x0ee68d158bfa0b5dd0025d6d8fd380f8f7f06482a84f033ab05cd776ce9aa71065bcb0e17303030acd2cedf13ef247f218aabaa513c01f3ddb48ef7ef6d193607d432fd5362412486165f490d7b8cff213708b1686ce921c0bdd360def784156"),
			32: sp.bls12_381_g1("0x0e77a906210ba4a29f883e82a54734fb19877f0f3893ac18e8de3c3cbea944d518045e6691e1a71f8e4e0227270da7c815db4d583c23e7afd8f341c9336bcb1be9997da4c22da8792a34802259e856ffec56aec66aeef223d73ba897beaa3e74"),
			33: sp.bls12_381_g1("0x10cbe40d0a4e26c1e213cb3e95abd82f3c75fd5991370ba41e791f876faa2aef935a4913297793823b31b563063aa38b0776a08c25de196fa4841c159414ceb8522c0c3e677ada31f8e5c2ee780b79ab9c622f2294847c55c106fd80c47cf52e"),
			34: sp.bls12_381_g1("0x16bc27108a00566a750f574052b308a00f53b43a97f85a997ebe2804b177cd6fc0ad8fc8250b4bf4b383de14867c6f8a0b6b2e487e93dbc69d4688be754b86b03db0c57d890709a717cbae7a0977620d687b0e45c066de2b333bf5c12aa666b1"),
			35: sp.bls12_381_g1("0x19605fefeb9b04dd191af393a595e6c15717e1bd03fee0fe2984f60f89e5f5d1a136bd3020d4157c48d25cce81f2e0a10051599d27b09d96bca99a29797b98b2f278c4226f6c02ede43e45840e306e6de4ef1d4b5563d847e5650def94977f1b"),
			36: sp.bls12_381_g1("0x19bdc8f28d8aeda65d010712167392ac9a7e1ba4cb5de2edcf0a6915a7a92ce70bb724cf4c802eb053dfb3a9d34deae60a5ed735664f64cec8f640bf42bcce8570c6d872161fa5e90ed141fe6e91e686a619e1d2dcd3389994304eba85c203c6"),
			37: sp.bls12_381_g1("0x0d8f3dbeafe72ea445ff9dd2a200135cb457263a29159e499729e928411aa1153f7ac019df62d4ab9f932b6e3436724710d615b84c06e05aa053a6119267c3d7af24c939411ab00728ea410f77d52add8bf23bebb1a85d0ebb3432f161e58d88"),
			38: sp.bls12_381_g1("0x136eee152f8bf491e9586a86738ce644ef7b65ad1c48f3c3587adbd8a4f7ca790f1a3c94aac48d6fcb8163b3db85bbdf0a1e4b0e7d1852e2e6322ee1179896f8bf6d73e1cb8a2351b861f7b614082442a911dac2e5cd79738c29bbb85f3d3da8"),
			39: sp.bls12_381_g1("0x024ecad0e89195c1d9e98768d423bcb57c878fad97ebef096e3aae0d1bd7559b7018a3db52aef2e223405a1b50602639190e04575653b948fd28eb39b739a35f2b9242b1ebe1c881a917fc175ca1ba1a5e4e094deda0a846a91f4b3ba5a2ece7"),
			40: sp.bls12_381_g1("0x01c549b263415a2dbae72a1492e252d857279ca35fb65cb36454da9f6b4a44e4fb10d22c9090e5251de4cdf24160c324041f33d15d2da4d55b5db115b305451e13f188c7beb89f43cce07d893954a6f77365afaa87f24916d0978cf20b7be062")
		}
        
        vk_query = sp.local('vk_query', vk_query_not_local)

        vk_x_not_local  = sp.mul(vk_query.value[1], input[0]) 
        vk_x = sp.local('vk_x', vk_x_not_local)
        
        # sp.range(x, y) goes from x (inclusive) to y (exclusive)
        sp.for i in sp.range(1, sp.len(vk_query.value)-1):
            vk_x.value = vk_x.value + sp.mul(vk_query.value[i+1], input[i])

        vk_x.value = vk_x.value + vk_query.value[0]     

        list_pair1 = sp.list([
            sp.pair(vk_g_alpha,vk_h_beta),
            sp.pair(vk_x.value,vk_h_gamma),
            sp.pair(proof_c,vk_h),
            sp.pair(- (proof_a+vk_g_alpha),proof_b+vk_h_beta)
        ])

        list_pair2 = sp.list([
            sp.pair(proof_a,vk_h_gamma),
            sp.pair(- vk_g_gamma,proof_b)
        ])

        # TODO: check if this is correct, I removed the check1 and check2 from the contract storage
        check1 = sp.pairing_check(list_pair1)
        check2 = sp.pairing_check(list_pair2)
        sp.if check1 & check2 != True:
            sp.failwith("The proof is not valid")




sp.add_compilation_target("Rollup", ZKRollupContract())